# Настройка для локальной разработки

## 1. Создание Telegram бота

1. Найдите @BotFather в Telegram
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Сохраните полученный токен

## 2. Настройка переменных окружения

Создайте файл `.env` в корневой папке проекта:

```env
BOT_TOKEN=your_telegram_bot_token_here
SERVER_URL=http://localhost:5000
```

Замените `your_telegram_bot_token_here` на ваш реальный токен бота.

## 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

## 4. Запуск приложения

### Вариант 1: Локальный запуск с polling (рекомендуется для разработки)

```bash
python run_local.py
```

Этот вариант:
- Запускает Flask сервер на порту 5000
- Запускает бота в режиме polling (не требует webhook)
- Работает локально без необходимости публичного URL

### Вариант 2: Запуск с webhook (требует публичный URL)

```bash
python run.py
```

Этот вариант требует:
- Публичный URL (например, через ngrok)
- Настройку webhook в Telegram

## 5. Использование ngrok (опционально)

Если вы хотите использовать webhook локально:

1. Установите ngrok: https://ngrok.com/
2. Запустите туннель:
   ```bash
   ngrok http 5000
   ```
3. Скопируйте полученный URL (например, `https://abc123.ngrok.io`)
4. Обновите `.env`:
   ```env
   SERVER_URL=https://abc123.ngrok.io
   ```
5. Запустите `python run.py`

## 6. Тестирование

1. Найдите вашего бота в Telegram
2. Отправьте команду `/start`
3. Отправьте CSV файл для анализа
4. Получите ссылки на результаты

## Примечания

- Для локальной разработки рекомендуется использовать `run_local.py`
- Файлы анализов сохраняются в папке `static/analyses/`
- Логи выводятся в консоль
- Для остановки приложения нажмите Ctrl+C 